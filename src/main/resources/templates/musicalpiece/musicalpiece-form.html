<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <title>Musical Piece Form</title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css"
      rel="stylesheet"
    />
  </head>

  <body class="bg-light">
    <!-- Header -->
    <div th:replace="~{fragments/header :: header}"></div>

    <main class="container my-5">
      <h2 class="mb-4 fw-semibold">
        <i class="bi bi-music-note-list me-2 text-primary"></i>
        Musical Piece
      </h2>

      <div class="card shadow-sm border-0 p-4">
        <form
          th:action="@{/add/music-piece}"
          th:object="${musicalPiece}"
          method="post"
        >
          <input type="hidden" th:field="*{id}" />

          <!-- Title -->
          <div class="mb-3">
            <label class="form-label fw-semibold">Title *</label>
            <input type="text" th:field="*{title}" class="form-control" />
            <div class="text-danger" th:errors="*{title}"></div>
          </div>

          <!-- Alternative title -->
          <div class="mb-3">
            <label class="form-label fw-semibold">Alternative Title</label>
            <input
              type="text"
              th:field="*{alternativeTitle}"
              class="form-control"
            />
          </div>

          <select th:field="*{composerId}" class="form-select">
            <option value="" disabled>Select composer</option>
            <option
              th:each="c : ${composers}"
              th:value="${c.id}"
              th:text="${c.name}"
            ></option>
          </select>

          <!-- Instrumentation -->
          <div class="mb-3">
            <label class="form-label fw-semibold">Instrumentation *</label>
            <select th:field="*{instrumentation}" class="form-select">
              <option value="" disabled selected>Select instrumentation</option>
              <option
                th:each="i : ${T(com.example.favourite_composer.musicalpiece.domain.Instrumentation).values()}"
                th:value="${i}"
                th:text="${i}"
              ></option>
            </select>
            <div class="text-danger" th:errors="*{instrumentation}"></div>
          </div>

          <!-- Premiere -->
          <div class="mb-3">
            <label class="form-label fw-semibold">Premiere</label>
            <input type="text" th:field="*{premiere}" class="form-control" />
          </div>

          <!-- Link -->
          <div class="mb-4">
            <label class="form-label fw-semibold">External link</label>
            <input type="text" th:field="*{link}" class="form-control" />
          </div>

          <!-- Buttons -->
          <button class="btn btn-primary">
            <i class="bi bi-save me-2"></i> Save
          </button>

          <a
            th:href="@{/show/music-piece}"
            class="btn btn-outline-secondary ms-2"
          >
            Cancel
          </a>
        </form>
      </div>
    </main>

    <!-- Footer -->
    <div th:replace="~{fragments/footer :: footer}"></div>
  </body>
</html>
